"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{84942:function(le,W,r){r.r(W),r.d(W,{default:function(){return m}});var H=r(15009),a=r.n(H),Y=r(97857),x=r.n(Y),z=r(99289),j=r.n(z),N=r(5574),h=r.n(N),v=r(17549),V=r(24969),re=r(6110),O=r(54425),J=r(2236),D=r(37476),Q=r(5966),$=r(90672),X=r(22492),F=r(80854),y=r(2453),M=r(71577),q=r(85265),b=r(67294),K=r(22247),i=r(85893),ee=function(_){var C=_.visible,U=_.columns,T=_.onCancel,I=_.onSubmit;return(0,i.jsx)(K.Z,{visible:C,footer:null,onCancel:function(){return T==null?void 0:T()},children:(0,i.jsx)(O.Z,{type:"form",columns:U,onSubmit:function(){var w=j()(a()().mark(function R(P){return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:I==null||I(P);case 1:case"end":return S.stop()}},R)}));return function(R){return w.apply(this,arguments)}}()})})},Z=ee,d=function(_){var C=_.values,U=_.visible,T=_.columns,I=_.onCancel,w=_.onSubmit,R=(0,b.useRef)();return(0,b.useEffect)(function(){if(R){var P;(P=R.current)===null||P===void 0||P.setFieldsValue(C)}},[C]),(0,i.jsx)(K.Z,{visible:U,footer:null,onCancel:function(){return I==null?void 0:I()},children:(0,i.jsx)(O.Z,{type:"form",formRef:R,columns:T,onSubmit:function(){var P=j()(a()().mark(function L(S){return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:w==null||w(S);case 1:case"end":return B.stop()}},L)}));return function(L){return P.apply(this,arguments)}}()})})},c=d,f=function(){var _=(0,b.useState)(!1),C=h()(_,2),U=C[0],T=C[1],I=(0,b.useState)(!1),w=h()(I,2),R=w[0],P=w[1],L=(0,b.useState)(!1),S=h()(L,2),ne=S[0],B=S[1],E=(0,b.useRef)(),oe=(0,b.useState)(),ae=h()(oe,2),g=ae[0],G=ae[1],de=(0,b.useState)([]),te=h()(de,2),A=te[0],ue=te[1],se=function(){var o=j()(a()().mark(function u(n){var s,p;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=y.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),e.prev=1,e.next=4,(0,v.co)(x()({},n));case 4:return s(),y.ZP.success("\u521B\u5EFA\u6210\u529F"),(p=E.current)===null||p===void 0||p.reload(),T(!1),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),s(),e.abrupt("return",!1);case 15:case"end":return e.stop()}},u,null,[[1,11]])}));return function(n){return o.apply(this,arguments)}}(),ce=function(){var o=j()(a()().mark(function u(n){var s;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(g){l.next=2;break}return l.abrupt("return");case 2:return s=y.ZP.loading("\u4FEE\u6539\u4E2D"),l.prev=3,l.next=6,(0,v.m6)(x()({id:g.id},n));case 6:return s(),y.ZP.success("\u64CD\u4F5C\u6210\u529F"),l.abrupt("return",!0);case 11:return l.prev=11,l.t0=l.catch(3),s(),l.abrupt("return",!1);case 15:case"end":return l.stop()}},u,null,[[3,11]])}));return function(n){return o.apply(this,arguments)}}(),ie=function(){var o=j()(a()().mark(function u(n){var s,p;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.ZP.loading("\u6B63\u5728\u5220\u9664"),n){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,v.E2)({id:n.id});case 6:return s(),y.ZP.success("\u5220\u9664\u6210\u529F"),(p=E.current)===null||p===void 0||p.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),s(),e.abrupt("return",!1);case 16:case"end":return e.stop()}},u,null,[[3,12]])}));return function(n){return o.apply(this,arguments)}}(),pe=function(){var o=j()(a()().mark(function u(n){var s,p;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.ZP.loading("\u53D1\u5E03\u4E2D"),n){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,v.iE)({id:n.id});case 6:return s(),y.ZP.success("\u64CD\u4F5C\u6210\u529F"),(p=E.current)===null||p===void 0||p.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),s(),e.abrupt("return",!1);case 16:case"end":return e.stop()}},u,null,[[3,12]])}));return function(n){return o.apply(this,arguments)}}(),fe=function(){var o=j()(a()().mark(function u(n){var s,p;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.ZP.loading("\u4E0B\u7EBF\u4E2D"),n){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,v.Eg)({id:n.id});case 6:return s(),y.ZP.success("\u64CD\u4F5C\u6210\u529F"),(p=E.current)===null||p===void 0||p.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),s(),e.abrupt("return",!1);case 16:case"end":return e.stop()}},u,null,[[3,12]])}));return function(n){return o.apply(this,arguments)}}(),k=[{title:"id",dataIndex:"id",valueType:"index"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"\u57DF\u540D",dataIndex:"host",valueType:"text"},{title:"\u63A5\u53E3\u5730\u5740",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestparams",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u53C2\u6570\u793A\u4F8B",dataIndex:"requestparamsexample",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestheader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseheader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createtime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(u,n){return[(0,i.jsx)("a",{onClick:function(){P(!0),G(n)},children:"\u4FEE\u6539"},"update"),n.status===0?(0,i.jsx)("a",{onClick:function(){pe(n)},children:"\u53D1\u5E03"},"online"):null,n.status===1?(0,i.jsx)("a",{onClick:function(){fe(n)},children:"\u4E0B\u7EBF"},"offline"):null,(0,i.jsx)(M.ZP,{type:"text",danger:!0,onClick:function(){ie(n)},children:"\u5220\u9664"},"delete")]}}];return(0,i.jsxs)(re._z,{children:[(0,i.jsx)(O.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:E,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,i.jsxs)(M.ZP,{type:"primary",onClick:function(){T(!0)},children:[(0,i.jsx)(V.Z,{})," \u65B0\u5EFA"]},"primary")]},request:v.i5,columns:k,rowSelection:{onChange:function(u,n){ue(n)}}}),(A==null?void 0:A.length)>0&&(0,i.jsxs)(J.S,{extra:(0,i.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,i.jsx)("a",{style:{fontWeight:600},children:A.length})," ","\u9879 \xA0\xA0",(0,i.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",A.reduce(function(o,u){return o+u.callNo},0)," \u4E07"]})]}),children:[(0,i.jsx)(M.ZP,{onClick:j()(a()().mark(function o(){var u,n;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ie(A);case 2:ue([]),(u=E.current)===null||u===void 0||(n=u.reloadAndRest)===null||n===void 0||n.call(u);case 4:case"end":return p.stop()}},o)})),children:"\u6279\u91CF\u5220\u9664"}),(0,i.jsx)(M.ZP,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,i.jsxs)(D.Y,{title:"\u65B0\u5EFA\u89C4\u5219",width:"400px",open:U,onOpenChange:T,onFinish:function(){var o=j()(a()().mark(function u(n){var s;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,se(n);case 2:s=l.sent,s&&(T(!1),E.current&&E.current.reload());case 4:case"end":return l.stop()}},u)}));return function(u){return o.apply(this,arguments)}}(),children:[(0,i.jsx)(Q.Z,{rules:[{required:!0,message:"\u89C4\u5219\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"name"}),(0,i.jsx)($.Z,{width:"md",name:"desc"})]}),(0,i.jsx)(q.Z,{width:600,open:ne,onClose:function(){G(void 0),B(!1)},closable:!1,children:(g==null?void 0:g.name)&&(0,i.jsx)(X.vY,{column:2,title:g==null?void 0:g.name,request:j()(a()().mark(function o(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:g||{}});case 1:case"end":return n.stop()}},o)})),params:{id:g==null?void 0:g.name},columns:k})}),(0,i.jsx)(Z,{columns:k,onCancel:function(){T(!1)},onSubmit:function(u){se(u)},visible:U}),(0,i.jsx)(c,{columns:k,onCancel:function(){P(!1),ne||G(void 0)},onSubmit:function(){var o=j()(a()().mark(function u(n){var s;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ce(n);case 2:s=l.sent,s&&(P(!1),G(void 0),E.current&&E.current.reload());case 4:case"end":return l.stop()}},u)}));return function(u){return o.apply(this,arguments)}}(),visible:R,values:g||{}})]})},m=f},17549:function(le,W,r){r.d(W,{E2:function(){return J},Eg:function(){return X},Rn:function(){return q},co:function(){return K},i5:function(){return Q},iE:function(){return y},m6:function(){return ee}});var H=r(15009),a=r.n(H),Y=r(97857),x=r.n(Y),z=r(13769),j=r.n(z),N=r(99289),h=r.n(N),v=r(80854),V=null;function re(d,c){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function d(c,f){var m,t;return _regeneratorRuntime().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return m=c.id,t=_objectWithoutProperties(c,V),C.abrupt("return",request("/interface/".concat(m),_objectSpread({method:"GET",params:_objectSpread({},t)},f||{})));case 2:case"end":return C.stop()}},d)})),O.apply(this,arguments)}function J(d,c){return D.apply(this,arguments)}function D(){return D=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/delete",x()({method:"DELETE",headers:{"Content-Type":"application/json"},data:c},f||{})));case 1:case"end":return t.stop()}},d)})),D.apply(this,arguments)}function Q(d){return $.apply(this,arguments)}function $(){return $=h()(a()().mark(function d(c){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,v.request)("/interface/list",x()({method:"GET"},c||{})));case 1:case"end":return m.stop()}},d)})),$.apply(this,arguments)}function X(d,c){return F.apply(this,arguments)}function F(){return F=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/offline",x()({method:"PATCH",headers:{"Content-Type":"application/json"},data:c},f||{})));case 1:case"end":return t.stop()}},d)})),F.apply(this,arguments)}function y(d,c){return M.apply(this,arguments)}function M(){return M=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/online",x()({method:"PATCH",headers:{"Content-Type":"application/json"},data:c},f||{})));case 1:case"end":return t.stop()}},d)})),M.apply(this,arguments)}function q(d,c){return b.apply(this,arguments)}function b(){return b=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/pagelist",x()({method:"GET",params:x()({},c)},f||{})));case 1:case"end":return t.stop()}},d)})),b.apply(this,arguments)}function K(d,c){return i.apply(this,arguments)}function i(){return i=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/register",x()({method:"POST",headers:{"Content-Type":"application/json"},data:c},f||{})));case 1:case"end":return t.stop()}},d)})),i.apply(this,arguments)}function ee(d,c){return Z.apply(this,arguments)}function Z(){return Z=h()(a()().mark(function d(c,f){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("/interface/update",x()({method:"PUT",headers:{"Content-Type":"application/json"},data:c},f||{})));case 1:case"end":return t.stop()}},d)})),Z.apply(this,arguments)}}}]);
